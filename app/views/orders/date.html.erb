<script type="text/javascript" charset="utf-8" xmlns="http://www.w3.org/1999/html">
    $(document).ready(function () {
        $('#date').val('');
        //Page date
        var month = $("#month").val();
        var number_of_day_in_month = new Date(2017, month, 0).getDate();
        var date_order = '';//дата в стринге
        var input_text = ''; //день в дате заказа торта
        var theme = ''; //вид украшение торта
        var shapeCake = ''; //форма торта
        var shapeCakeId = ''//id формы торта
        var max_floor = ''; //максимальное количество этажей в торте
        var floor_order = ''; //количество этажей в торте
        var floor_now = 0; //текущее количество
        var price_cake = 0; //цена за торт
        var weight = 0; //вес торта
        var difference_in_days = 0; //разница дней
        var textOnNameplate = ''; //текст на табличке
        var inputTextFromKeybord = '';//данные о надписи
        var text_on_substrate = '';//текст на подложку
        var name = '';//имя
        var phone = '';//переменная для ввода телефона клиента
        var phoneNumber = ''; //телефон клиента
        var address = '';//Адрес


        $('#month').change(function () {
            month = $("#month").val();
            number_of_day_in_month = new Date(2017, month, 0).getDate();
            //$('#date').val(number_of_day_in_month);
            input_text = '';
            $('#date').val(input_text);
        });

        btnNumber(1);
        btnNumber(2);
        btnNumber(3);
        btnNumber(4);
        btnNumber(5);
        btnNumber(6);
        btnNumber(7);
        btnNumber(8);
        btnNumber(9);
        btnNumber(0);

        $('#keypad_delete').click(function () {
            if (input_text.length > 0) {
                input_text = input_text.substring(0, input_text.length - 1);
                $('#date').val(input_text);
                $('#date').focus();
            }
            else {
                $('#date').focus();
            }
        });
        //end page date

    //Функция для нажатия цифр
    function btnNumber(number) {
        $('#keypad' + number).click(function () {
            if (input_text.length < 2) {
                input_text = input_text + number
                if (parseInt(input_text) > number_of_day_in_month || parseInt(input_text) == 0 && input_text.length > 1) {
                    input_text = number_of_day_in_month.toString();
                    $('#date').val(number_of_day_in_month);
                }
                else {
                    $('#date').val(input_text);
                }
            }
        });
    }

        $('#next').click(function () {
            window.location.replace("/shape");
        });


    });

</script>
<div id="pageDate" class="container">
  <div id="next" class="next">ДАЛЕЕ</div>
  <!-- Модальное окно -->
  <div id="modal_form"><!-- Сaмo oкнo -->
    <!-- <span id="modal_close">X</span>  Кнoпкa зaкрыть -->
    <div class="msg_title">Ой! Excusez moi :)</div>
    <div class="msg_text">Нам нужно больше времени, что бы приготовить торт! <br> Если Вы закажите за 7 дней, то
      получите 20% скидку!
    </div>
    <button id="popup__btn" class="popup__btn">Закрыть окно</button>
  </div>
  <div id="overlay"></div><!-- Пoдлoжкa -->
  <!--
  <div class="logo">
    <%= image_tag "logo.png", id: 'logo' %>
  </div> -->
  <div class="page-date">
    <div class="msg-box">
      <h4 class="msg-box_date"> Когда торт должен быть готов?</h4>
      <p class="msg-box_text">Вы можете заказать торт за 2 рабочих дня до торжества. Если заказ производится за 7
        рабочих дней то Вы
        получаете 20% скидку!</p>
    </div>


    <div class="box-container">
      <h4 class="year">2017 год</h4>
      <select id="month" class="month">
        <!-- <option value="1">Январь</option>
        <option value="2">Февраль</option>
        <option value="3" selected>Март</option> -->
        <option value="4" selected>Апрель</option>
        <option value="5">Май</option>
        <option value="6">Июнь</option>
        <option value="7">Июль</option>
        <option value="8">Август</option>
        <option value="9">Сентябрь</option>
        <option value="10">Октябрь</option>
        <option value="11">Ноябрь</option>
        <option value="12">Декабрь</option>
      </select>
      <input class="date" id="date" placeholder="День" type="text">
      <div class="numeric-keypad">
        <div class="line-numeric">
          <li id="keypad1" class="numeric">1</li>
          <li id="keypad2" class="numeric">2</li>
          <li id="keypad3" class="numeric">3</li>
        </div>
        <div class="line-numeric">
          <li id="keypad4" class="numeric">4</li>
          <li id="keypad5" class="numeric">5</li>
          <li id="keypad6" class="numeric">6</li>
        </div>
        <div class="line-numeric">
          <li id="keypad7" class="numeric">7</li>
          <li id="keypad8" class="numeric">8</li>
          <li id="keypad9" class="numeric">9</li>
        </div>
        <div class="line-numeric">
          <li id="keypad0" class="numeric">0</li>
          <li id="keypad_delete" class="numeric_delete">УДАЛИТЬ</li>
        </div>
      </div>
    </div>
  </div>


</div>